{"ast":null,"code":"var _jsxFileName = \"/Users/sanjaysuman/One Tappe/OneTappeProject/frontend/src/components/InvoiceGenerator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { Box, Button, FormControl, FormLabel, Input, Select, VStack, HStack, Text, Heading, Divider } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InvoiceGenerator = () => {\n  _s();\n  const {\n    orderId\n  } = useParams();\n  const [discountType, setDiscountType] = useState('percent');\n  const [discountValue, setDiscountValue] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Simple notification function using browser alert\n  const showNotification = (title, message, type) => {\n    alert(`${title}: ${message}`);\n  };\n  const handleDiscountTypeChange = e => {\n    setDiscountType(e.target.value);\n  };\n  const handleDiscountValueChange = e => {\n    setDiscountValue(e.target.value);\n  };\n  const generateInvoice = async (withDiscount = false) => {\n    setIsLoading(true);\n    try {\n      let url = `/seller/invoices/${orderId}`;\n      if (withDiscount) {\n        url = `/seller/invoices/${orderId}/with-discount?discount_type=${discountType}&discount_value=${discountValue}`;\n      }\n      const response = await axios.get(url, {\n        responseType: 'blob'\n      });\n\n      // Create a blob from the PDF Stream\n      const file = new Blob([response.data], {\n        type: 'application/pdf'\n      });\n\n      // Build a URL from the file\n      const fileURL = URL.createObjectURL(file);\n\n      // Open the URL on new Window\n      const pdfWindow = window.open();\n      pdfWindow.location.href = fileURL;\n      showNotification('Invoice generated', 'The invoice has been generated successfully.', 'success');\n    } catch (error) {\n      console.error('Error generating invoice:', error);\n      showNotification('Error', 'Failed to generate invoice. Please try again.', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 5,\n    shadow: \"md\",\n    borderWidth: \"1px\",\n    borderRadius: \"md\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"md\",\n      mb: 4,\n      children: \"Generate Invoice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      mb: 4\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VStack, {\n      spacing: 4,\n      align: \"stretch\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"blue\",\n        isLoading: isLoading,\n        onClick: () => generateInvoice(false),\n        width: \"full\",\n        children: \"Generate Standard Invoice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        fontWeight: \"bold\",\n        mt: 4,\n        children: \"Apply Discount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: \"Discount Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: discountType,\n          onChange: handleDiscountTypeChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"percent\",\n            children: \"Percentage (%)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"amount\",\n            children: \"Fixed Amount ($)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: discountType === 'percent' ? 'Discount Percentage' : 'Discount Amount'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"number\",\n          value: discountValue,\n          onChange: handleDiscountValueChange,\n          min: \"0\",\n          max: discountType === 'percent' ? '100' : undefined,\n          step: \"0.01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"green\",\n        isLoading: isLoading,\n        onClick: () => generateInvoice(true),\n        width: \"full\",\n        mt: 2,\n        children: \"Generate Invoice with Discount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(InvoiceGenerator, \"H+rUiLAjDpbSmn4MYwyPUDeSdks=\", false, function () {\n  return [useParams];\n});\n_c = InvoiceGenerator;\nexport default InvoiceGenerator;\nvar _c;\n$RefreshReg$(_c, \"InvoiceGenerator\");","map":{"version":3,"names":["React","useState","axios","useParams","Box","Button","FormControl","FormLabel","Input","Select","VStack","HStack","Text","Heading","Divider","jsxDEV","_jsxDEV","InvoiceGenerator","_s","orderId","discountType","setDiscountType","discountValue","setDiscountValue","isLoading","setIsLoading","showNotification","title","message","type","alert","handleDiscountTypeChange","e","target","value","handleDiscountValueChange","generateInvoice","withDiscount","url","response","get","responseType","file","Blob","data","fileURL","URL","createObjectURL","pdfWindow","window","open","location","href","error","console","p","shadow","borderWidth","borderRadius","children","size","mb","fileName","_jsxFileName","lineNumber","columnNumber","spacing","align","colorScheme","onClick","width","fontWeight","mt","onChange","min","max","undefined","step","_c","$RefreshReg$"],"sources":["/Users/sanjaysuman/One Tappe/OneTappeProject/frontend/src/components/InvoiceGenerator.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport {\n  Box,\n  Button,\n  FormControl,\n  FormLabel,\n  Input,\n  Select,\n  VStack,\n  HStack,\n  Text,\n  Heading,\n  Divider,\n} from '@chakra-ui/react';\n\nconst InvoiceGenerator = () => {\n  const { orderId } = useParams();\n  const [discountType, setDiscountType] = useState('percent');\n  const [discountValue, setDiscountValue] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  // Simple notification function using browser alert\n  const showNotification = (title, message, type) => {\n    alert(`${title}: ${message}`);\n  };\n\n  const handleDiscountTypeChange = (e) => {\n    setDiscountType(e.target.value);\n  };\n\n  const handleDiscountValueChange = (e) => {\n    setDiscountValue(e.target.value);\n  };\n\n  const generateInvoice = async (withDiscount = false) => {\n    setIsLoading(true);\n    try {\n      let url = `/seller/invoices/${orderId}`;\n      \n      if (withDiscount) {\n        url = `/seller/invoices/${orderId}/with-discount?discount_type=${discountType}&discount_value=${discountValue}`;\n      }\n      \n      const response = await axios.get(url, {\n        responseType: 'blob',\n      });\n      \n      // Create a blob from the PDF Stream\n      const file = new Blob([response.data], { type: 'application/pdf' });\n      \n      // Build a URL from the file\n      const fileURL = URL.createObjectURL(file);\n      \n      // Open the URL on new Window\n      const pdfWindow = window.open();\n      pdfWindow.location.href = fileURL;\n      \n      showNotification(\n        'Invoice generated',\n        'The invoice has been generated successfully.',\n        'success'\n      );\n    } catch (error) {\n      console.error('Error generating invoice:', error);\n      showNotification(\n        'Error',\n        'Failed to generate invoice. Please try again.',\n        'error'\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Box p={5} shadow=\"md\" borderWidth=\"1px\" borderRadius=\"md\">\n      <Heading size=\"md\" mb={4}>Generate Invoice</Heading>\n      <Divider mb={4} />\n      \n      <VStack spacing={4} align=\"stretch\">\n        <Button\n          colorScheme=\"blue\"\n          isLoading={isLoading}\n          onClick={() => generateInvoice(false)}\n          width=\"full\"\n        >\n          Generate Standard Invoice\n        </Button>\n        \n        <Text fontWeight=\"bold\" mt={4}>Apply Discount</Text>\n        \n        <FormControl>\n          <FormLabel>Discount Type</FormLabel>\n          <Select value={discountType} onChange={handleDiscountTypeChange}>\n            <option value=\"percent\">Percentage (%)</option>\n            <option value=\"amount\">Fixed Amount ($)</option>\n          </Select>\n        </FormControl>\n        \n        <FormControl>\n          <FormLabel>\n            {discountType === 'percent' ? 'Discount Percentage' : 'Discount Amount'}\n          </FormLabel>\n          <Input\n            type=\"number\"\n            value={discountValue}\n            onChange={handleDiscountValueChange}\n            min=\"0\"\n            max={discountType === 'percent' ? '100' : undefined}\n            step=\"0.01\"\n          />\n        </FormControl>\n        \n        <Button\n          colorScheme=\"green\"\n          isLoading={isLoading}\n          onClick={() => generateInvoice(true)}\n          width=\"full\"\n          mt={2}\n        >\n          Generate Invoice with Discount\n        </Button>\n      </VStack>\n    </Box>\n  );\n};\n\nexport default InvoiceGenerator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}