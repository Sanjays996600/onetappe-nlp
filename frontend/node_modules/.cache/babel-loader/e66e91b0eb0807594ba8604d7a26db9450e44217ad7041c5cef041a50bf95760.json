{"ast":null,"code":"var _jsxFileName = \"/Users/sanjaysuman/One Tappe/OneTappeProject/frontend/src/components/ProductCatalog.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport './ProductCatalog.css';\n\n/**\n * ProductCatalog component for displaying a responsive product catalog\n * This component provides a dynamic landing page for product listings\n * with filtering, sorting, and responsive grid/list views\n * \n * Enhanced with improved mobile responsiveness and API integration\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCatalog = ({\n  initialProducts = [],\n  categories = [],\n  apiEndpoint = '/api/products'\n}) => {\n  _s();\n  const [products, setProducts] = useState(initialProducts);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState('grid'); // 'grid' or 'list'\n  const [sortBy, setSortBy] = useState('name-asc');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isFilterMenuOpen, setIsFilterMenuOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [productsPerPage] = useState(12);\n  const [totalProducts, setTotalProducts] = useState(0);\n\n  // Fetch products function with API integration and error handling\n  const fetchProducts = useCallback(async (page = 1, category = 'all', search = '', sort = 'name-asc') => {\n    if (initialProducts.length > 0 && page === 1) {\n      setProducts(initialProducts);\n      setTotalProducts(initialProducts.length);\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    try {\n      // In a production environment, use the actual API endpoint\n      // with proper query parameters for filtering, sorting, and pagination\n      const queryParams = new URLSearchParams({\n        page,\n        limit: productsPerPage,\n        category: category !== 'all' ? category : '',\n        search,\n        sort\n      }).toString();\n\n      // For demo purposes, we'll simulate an API call\n      // In production, uncomment this code and remove the setTimeout\n      // const response = await fetch(`${apiEndpoint}?${queryParams}`);\n      // if (!response.ok) throw new Error('Network response was not ok');\n      // const data = await response.json();\n      // setProducts(data.products);\n      // setTotalProducts(data.total);\n\n      // Simulate API call with setTimeout\n      setTimeout(() => {\n        try {\n          // Sample data - in a real app, this would come from an API\n          const sampleProducts = [{\n            id: 1,\n            name: 'Premium T-Shirt',\n            category: 'clothing',\n            price: 19.99,\n            image: 'https://via.placeholder.com/300x300?text=T-Shirt',\n            description: 'High-quality cotton t-shirt with custom design.',\n            inStock: true,\n            rating: 4.5,\n            createdAt: '2023-08-15'\n          }, {\n            id: 2,\n            name: 'Designer Jeans',\n            category: 'clothing',\n            price: 39.99,\n            image: 'https://via.placeholder.com/300x300?text=Jeans',\n            description: 'Stylish jeans with perfect fit and comfort.',\n            inStock: true,\n            rating: 4.2,\n            createdAt: '2023-07-20'\n          }, {\n            id: 3,\n            name: 'Leather Wallet',\n            category: 'accessories',\n            price: 24.99,\n            image: 'https://via.placeholder.com/300x300?text=Wallet',\n            description: 'Genuine leather wallet with multiple card slots.',\n            inStock: true,\n            rating: 4.8,\n            createdAt: '2023-09-05'\n          }, {\n            id: 4,\n            name: 'Wireless Earbuds',\n            category: 'electronics',\n            price: 49.99,\n            image: 'https://via.placeholder.com/300x300?text=Earbuds',\n            description: 'High-quality sound with noise cancellation.',\n            inStock: false,\n            rating: 4.7,\n            createdAt: '2023-06-10'\n          }, {\n            id: 5,\n            name: 'Smart Watch',\n            category: 'electronics',\n            price: 99.99,\n            image: 'https://via.placeholder.com/300x300?text=Watch',\n            description: 'Track your fitness and stay connected.',\n            inStock: true,\n            rating: 4.4,\n            createdAt: '2023-08-25'\n          }, {\n            id: 6,\n            name: 'Yoga Mat',\n            category: 'fitness',\n            price: 29.99,\n            image: 'https://via.placeholder.com/300x300?text=Yoga+Mat',\n            description: 'Non-slip surface for comfortable workouts.',\n            inStock: true,\n            rating: 4.3,\n            createdAt: '2023-07-15'\n          }, {\n            id: 7,\n            name: 'Running Shoes',\n            category: 'fitness',\n            price: 89.99,\n            image: 'https://via.placeholder.com/300x300?text=Running+Shoes',\n            description: 'Comfortable running shoes with excellent support.',\n            inStock: true,\n            rating: 4.6,\n            createdAt: '2023-09-10'\n          }, {\n            id: 8,\n            name: 'Bluetooth Speaker',\n            category: 'electronics',\n            price: 59.99,\n            image: 'https://via.placeholder.com/300x300?text=Speaker',\n            description: 'Portable speaker with rich sound quality.',\n            inStock: true,\n            rating: 4.5,\n            createdAt: '2023-08-05'\n          }];\n\n          // Filter based on category and search\n          let filtered = sampleProducts;\n          if (category !== 'all') {\n            filtered = filtered.filter(p => p.category === category);\n          }\n          if (search) {\n            const query = search.toLowerCase();\n            filtered = filtered.filter(p => p.name.toLowerCase().includes(query) || p.description.toLowerCase().includes(query));\n          }\n\n          // Sort products\n          switch (sort) {\n            case 'name-asc':\n              filtered.sort((a, b) => a.name.localeCompare(b.name));\n              break;\n            case 'name-desc':\n              filtered.sort((a, b) => b.name.localeCompare(a.name));\n              break;\n            case 'price-asc':\n              filtered.sort((a, b) => a.price - b.price);\n              break;\n            case 'price-desc':\n              filtered.sort((a, b) => b.price - a.price);\n              break;\n            case 'rating':\n              filtered.sort((a, b) => b.rating - a.rating);\n              break;\n            default:\n              break;\n          }\n\n          // Paginate\n          const startIndex = (page - 1) * productsPerPage;\n          const paginatedProducts = filtered.slice(startIndex, startIndex + productsPerPage);\n          setProducts(paginatedProducts);\n          setTotalProducts(filtered.length);\n          setLoading(false);\n        } catch (err) {\n          console.error('Error processing products:', err);\n          setError('Failed to process products');\n          setLoading(false);\n        }\n      }, 800);\n    } catch (err) {\n      console.error('Error fetching products:', err);\n      setError('Failed to load products. Please check your connection and try again.');\n      setLoading(false);\n    }\n  }, [apiEndpoint, initialProducts, productsPerPage]);\n\n  // Fetch products when component mounts or when dependencies change\n  useEffect(() => {\n    fetchProducts(currentPage, selectedCategory, searchQuery, sortBy);\n  }, [fetchProducts, currentPage, selectedCategory, searchQuery, sortBy]);\n\n  // Set filtered products based on the fetched products\n  useEffect(() => {\n    setFilteredProducts(products);\n  }, [products]);\n\n  // Handle filter and sort changes\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Reset to page 1 when changing filters\n    setCurrentPage(1);\n    switch (name) {\n      case 'category':\n        setSelectedCategory(value);\n        break;\n      case 'sort':\n        setSortBy(value);\n        break;\n      default:\n        break;\n    }\n  };\n\n  // Handle search input changes with debounce\n  const handleSearchChange = e => {\n    const value = e.target.value;\n    setSearchQuery(value);\n    setCurrentPage(1); // Reset to page 1 when searching\n  };\n\n  // Handle pagination\n  const handlePageChange = newPage => {\n    setCurrentPage(newPage);\n    // Scroll to top when changing pages\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  // Calculate pagination information\n  const totalPages = Math.ceil(totalProducts / productsPerPage);\n  const pageNumbers = [];\n\n  // Generate page numbers for pagination\n  for (let i = 1; i <= totalPages; i++) {\n    pageNumbers.push(i);\n  }\n\n  // Get unique categories from products\n  const availableCategories = categories.length > 0 ? categories : ['all', ...new Set(products.map(product => product.category))];\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-catalog-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-catalog-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-catalog-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Product Catalog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-catalog-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search products...\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-sort-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-filter\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"category-select\",\n              children: \"Category:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category-select\",\n              value: selectedCategory,\n              onChange: e => setSelectedCategory(e.target.value),\n              children: availableCategories.map((category, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: category === 'all' ? 'all' : category,\n                children: category.charAt(0).toUpperCase() + category.slice(1)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sort-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"sort-select\",\n              children: \"Sort by:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"sort-select\",\n              value: sortBy,\n              onChange: e => setSortBy(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"name-asc\",\n                children: \"Name (A-Z)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"name-desc\",\n                children: \"Name (Z-A)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"price-asc\",\n                children: \"Price (Low to High)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"price-desc\",\n                children: \"Price (High to Low)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"rating\",\n                children: \"Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view-toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `view-btn ${viewMode === 'grid' ? 'active' : ''}`,\n              onClick: () => setViewMode('grid'),\n              \"aria-label\": \"Grid view\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                viewBox: \"0 0 24 24\",\n                width: \"18\",\n                height: \"18\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M3 3h7v7H3V3zm11 0h7v7h-7V3zm0 11h7v7h-7v-7zm-11 0h7v7H3v-7z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `view-btn ${viewMode === 'list' ? 'active' : ''}`,\n              onClick: () => setViewMode('list'),\n              \"aria-label\": \"List view\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                viewBox: \"0 0 24 24\",\n                width: \"18\",\n                height: \"18\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          viewBox: \"0 0 50 50\",\n          className: \"spinner\",\n          children: /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"25\",\n            cy: \"25\",\n            r: \"20\",\n            fill: \"none\",\n            strokeWidth: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }, this) : filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-products-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No products found matching your criteria.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reset-filters-btn\",\n        onClick: () => {\n          setSelectedCategory('all');\n          setSearchQuery('');\n          setSortBy('name-asc');\n        },\n        children: \"Reset Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `product-${viewMode}-view`,\n      children: filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `product-${viewMode}-item`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-image\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.image,\n            alt: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this), !product.inStock && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"out-of-stock-badge\",\n            children: \"Out of Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"product-name\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-category\",\n            children: product.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-rating\",\n            children: [[...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: i < Math.floor(product.rating) ? 'star filled' : 'star',\n              children: \"\\u2605\"\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rating-value\",\n              children: product.rating.toFixed(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"product-description\",\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-price-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-price\",\n              children: [\"$\", product.price.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"view-details-btn\",\n                onClick: () => alert(`View details for ${product.name}`),\n                children: \"View Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `add-to-cart-btn ${!product.inStock ? 'disabled' : ''}`,\n                disabled: !product.inStock,\n                onClick: () => product.inStock && alert(`Added ${product.name} to cart`),\n                children: product.inStock ? 'Add to Cart' : 'Out of Stock'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCatalog, \"zR58hBaOKb65Zb8+Fkxr8coSuA0=\");\n_c = ProductCatalog;\nexport default ProductCatalog;\nvar _c;\n$RefreshReg$(_c, \"ProductCatalog\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","ProductCatalog","initialProducts","categories","apiEndpoint","_s","products","setProducts","filteredProducts","setFilteredProducts","loading","setLoading","error","setError","viewMode","setViewMode","sortBy","setSortBy","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","isFilterMenuOpen","setIsFilterMenuOpen","currentPage","setCurrentPage","productsPerPage","totalProducts","setTotalProducts","fetchProducts","page","category","search","sort","length","queryParams","URLSearchParams","limit","toString","setTimeout","sampleProducts","id","name","price","image","description","inStock","rating","createdAt","filtered","filter","p","query","toLowerCase","includes","a","b","localeCompare","startIndex","paginatedProducts","slice","err","console","handleFilterChange","e","value","target","handleSearchChange","handlePageChange","newPage","window","scrollTo","top","behavior","totalPages","Math","ceil","pageNumbers","i","push","availableCategories","Set","map","product","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","htmlFor","index","charAt","toUpperCase","onClick","viewBox","width","height","d","cx","cy","r","fill","strokeWidth","src","alt","Array","_","floor","toFixed","alert","disabled","_c","$RefreshReg$"],"sources":["/Users/sanjaysuman/One Tappe/OneTappeProject/frontend/src/components/ProductCatalog.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './ProductCatalog.css';\n\n/**\n * ProductCatalog component for displaying a responsive product catalog\n * This component provides a dynamic landing page for product listings\n * with filtering, sorting, and responsive grid/list views\n * \n * Enhanced with improved mobile responsiveness and API integration\n */\nconst ProductCatalog = ({ initialProducts = [], categories = [], apiEndpoint = '/api/products' }) => {\n  const [products, setProducts] = useState(initialProducts);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState('grid'); // 'grid' or 'list'\n  const [sortBy, setSortBy] = useState('name-asc');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isFilterMenuOpen, setIsFilterMenuOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [productsPerPage] = useState(12);\n  const [totalProducts, setTotalProducts] = useState(0);\n  \n  // Fetch products function with API integration and error handling\n  const fetchProducts = useCallback(async (page = 1, category = 'all', search = '', sort = 'name-asc') => {\n    if (initialProducts.length > 0 && page === 1) {\n      setProducts(initialProducts);\n      setTotalProducts(initialProducts.length);\n      setLoading(false);\n      return;\n    }\n    \n    setLoading(true);\n    \n    try {\n      // In a production environment, use the actual API endpoint\n      // with proper query parameters for filtering, sorting, and pagination\n      const queryParams = new URLSearchParams({\n        page,\n        limit: productsPerPage,\n        category: category !== 'all' ? category : '',\n        search,\n        sort\n      }).toString();\n      \n      // For demo purposes, we'll simulate an API call\n      // In production, uncomment this code and remove the setTimeout\n      // const response = await fetch(`${apiEndpoint}?${queryParams}`);\n      // if (!response.ok) throw new Error('Network response was not ok');\n      // const data = await response.json();\n      // setProducts(data.products);\n      // setTotalProducts(data.total);\n      \n      // Simulate API call with setTimeout\n      setTimeout(() => {\n        try {\n          // Sample data - in a real app, this would come from an API\n          const sampleProducts = [\n            {\n              id: 1,\n              name: 'Premium T-Shirt',\n              category: 'clothing',\n              price: 19.99,\n              image: 'https://via.placeholder.com/300x300?text=T-Shirt',\n              description: 'High-quality cotton t-shirt with custom design.',\n              inStock: true,\n              rating: 4.5,\n              createdAt: '2023-08-15',\n            },\n            {\n              id: 2,\n              name: 'Designer Jeans',\n              category: 'clothing',\n              price: 39.99,\n              image: 'https://via.placeholder.com/300x300?text=Jeans',\n              description: 'Stylish jeans with perfect fit and comfort.',\n              inStock: true,\n              rating: 4.2,\n              createdAt: '2023-07-20',\n            },\n            {\n              id: 3,\n              name: 'Leather Wallet',\n              category: 'accessories',\n              price: 24.99,\n              image: 'https://via.placeholder.com/300x300?text=Wallet',\n              description: 'Genuine leather wallet with multiple card slots.',\n              inStock: true,\n              rating: 4.8,\n              createdAt: '2023-09-05',\n            },\n            {\n              id: 4,\n              name: 'Wireless Earbuds',\n              category: 'electronics',\n              price: 49.99,\n              image: 'https://via.placeholder.com/300x300?text=Earbuds',\n              description: 'High-quality sound with noise cancellation.',\n              inStock: false,\n              rating: 4.7,\n              createdAt: '2023-06-10',\n            },\n            {\n              id: 5,\n              name: 'Smart Watch',\n              category: 'electronics',\n              price: 99.99,\n              image: 'https://via.placeholder.com/300x300?text=Watch',\n              description: 'Track your fitness and stay connected.',\n              inStock: true,\n              rating: 4.4,\n              createdAt: '2023-08-25',\n            },\n            {\n              id: 6,\n              name: 'Yoga Mat',\n              category: 'fitness',\n              price: 29.99,\n              image: 'https://via.placeholder.com/300x300?text=Yoga+Mat',\n              description: 'Non-slip surface for comfortable workouts.',\n              inStock: true,\n              rating: 4.3,\n              createdAt: '2023-07-15',\n            },\n            {\n              id: 7,\n              name: 'Running Shoes',\n              category: 'fitness',\n              price: 89.99,\n              image: 'https://via.placeholder.com/300x300?text=Running+Shoes',\n              description: 'Comfortable running shoes with excellent support.',\n              inStock: true,\n              rating: 4.6,\n              createdAt: '2023-09-10',\n            },\n            {\n              id: 8,\n              name: 'Bluetooth Speaker',\n              category: 'electronics',\n              price: 59.99,\n              image: 'https://via.placeholder.com/300x300?text=Speaker',\n              description: 'Portable speaker with rich sound quality.',\n              inStock: true,\n              rating: 4.5,\n              createdAt: '2023-08-05',\n            },\n          ];\n          \n          // Filter based on category and search\n          let filtered = sampleProducts;\n          \n          if (category !== 'all') {\n            filtered = filtered.filter(p => p.category === category);\n          }\n          \n          if (search) {\n            const query = search.toLowerCase();\n            filtered = filtered.filter(p => \n              p.name.toLowerCase().includes(query) || \n              p.description.toLowerCase().includes(query)\n            );\n          }\n          \n          // Sort products\n          switch (sort) {\n            case 'name-asc':\n              filtered.sort((a, b) => a.name.localeCompare(b.name));\n              break;\n            case 'name-desc':\n              filtered.sort((a, b) => b.name.localeCompare(a.name));\n              break;\n            case 'price-asc':\n              filtered.sort((a, b) => a.price - b.price);\n              break;\n            case 'price-desc':\n              filtered.sort((a, b) => b.price - a.price);\n              break;\n            case 'rating':\n              filtered.sort((a, b) => b.rating - a.rating);\n              break;\n            default:\n              break;\n          }\n          \n          // Paginate\n          const startIndex = (page - 1) * productsPerPage;\n          const paginatedProducts = filtered.slice(startIndex, startIndex + productsPerPage);\n          \n          setProducts(paginatedProducts);\n          setTotalProducts(filtered.length);\n          setLoading(false);\n        } catch (err) {\n          console.error('Error processing products:', err);\n          setError('Failed to process products');\n          setLoading(false);\n        }\n      }, 800);\n    } catch (err) {\n      console.error('Error fetching products:', err);\n      setError('Failed to load products. Please check your connection and try again.');\n      setLoading(false);\n    }\n  }, [apiEndpoint, initialProducts, productsPerPage]);\n  \n  // Fetch products when component mounts or when dependencies change\n  useEffect(() => {\n    fetchProducts(currentPage, selectedCategory, searchQuery, sortBy);\n  }, [fetchProducts, currentPage, selectedCategory, searchQuery, sortBy]);\n  \n  // Set filtered products based on the fetched products\n  useEffect(() => {\n    setFilteredProducts(products);\n  }, [products]);\n  \n  // Handle filter and sort changes\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    \n    // Reset to page 1 when changing filters\n    setCurrentPage(1);\n    \n    switch (name) {\n      case 'category':\n        setSelectedCategory(value);\n        break;\n      case 'sort':\n        setSortBy(value);\n        break;\n      default:\n        break;\n    }\n  };\n  \n  // Handle search input changes with debounce\n  const handleSearchChange = (e) => {\n    const value = e.target.value;\n    setSearchQuery(value);\n    setCurrentPage(1); // Reset to page 1 when searching\n  };\n  \n  // Handle pagination\n  const handlePageChange = (newPage) => {\n    setCurrentPage(newPage);\n    // Scroll to top when changing pages\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n  \n  // Calculate pagination information\n  const totalPages = Math.ceil(totalProducts / productsPerPage);\n  const pageNumbers = [];\n  \n  // Generate page numbers for pagination\n  for (let i = 1; i <= totalPages; i++) {\n    pageNumbers.push(i);\n  }\n  \n  // Get unique categories from products\n  const availableCategories = categories.length > 0 \n    ? categories \n    : ['all', ...new Set(products.map(product => product.category))];\n  \n  if (error) {\n    return <div className=\"product-catalog-error\">{error}</div>;\n  }\n  \n  return (\n    <div className=\"product-catalog-container\">\n      <div className=\"product-catalog-header\">\n        <h2>Product Catalog</h2>\n        \n        <div className=\"product-catalog-controls\">\n          <div className=\"search-bar\">\n            <input \n              type=\"text\" \n              placeholder=\"Search products...\" \n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n            />\n          </div>\n          \n          <div className=\"filter-sort-controls\">\n            <div className=\"category-filter\">\n              <label htmlFor=\"category-select\">Category:</label>\n              <select \n                id=\"category-select\" \n                value={selectedCategory}\n                onChange={(e) => setSelectedCategory(e.target.value)}\n              >\n                {availableCategories.map((category, index) => (\n                  <option key={index} value={category === 'all' ? 'all' : category}>\n                    {category.charAt(0).toUpperCase() + category.slice(1)}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"sort-control\">\n              <label htmlFor=\"sort-select\">Sort by:</label>\n              <select \n                id=\"sort-select\" \n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n              >\n                <option value=\"name-asc\">Name (A-Z)</option>\n                <option value=\"name-desc\">Name (Z-A)</option>\n                <option value=\"price-asc\">Price (Low to High)</option>\n                <option value=\"price-desc\">Price (High to Low)</option>\n                <option value=\"rating\">Rating</option>\n              </select>\n            </div>\n            \n            <div className=\"view-toggle\">\n              <button \n                className={`view-btn ${viewMode === 'grid' ? 'active' : ''}`}\n                onClick={() => setViewMode('grid')}\n                aria-label=\"Grid view\"\n              >\n                <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                  <path d=\"M3 3h7v7H3V3zm11 0h7v7h-7V3zm0 11h7v7h-7v-7zm-11 0h7v7H3v-7z\" />\n                </svg>\n              </button>\n              <button \n                className={`view-btn ${viewMode === 'list' ? 'active' : ''}`}\n                onClick={() => setViewMode('list')}\n                aria-label=\"List view\"\n              >\n                <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                  <path d=\"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {loading ? (\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\">\n            <svg viewBox=\"0 0 50 50\" className=\"spinner\">\n              <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" strokeWidth=\"5\"></circle>\n            </svg>\n          </div>\n          <p>Loading products...</p>\n        </div>\n      ) : filteredProducts.length === 0 ? (\n        <div className=\"no-products-message\">\n          <p>No products found matching your criteria.</p>\n          <button \n            className=\"reset-filters-btn\"\n            onClick={() => {\n              setSelectedCategory('all');\n              setSearchQuery('');\n              setSortBy('name-asc');\n            }}\n          >\n            Reset Filters\n          </button>\n        </div>\n      ) : (\n        <div className={`product-${viewMode}-view`}>\n          {filteredProducts.map(product => (\n            <div key={product.id} className={`product-${viewMode}-item`}>\n              <div className=\"product-image\">\n                <img src={product.image} alt={product.name} />\n                {!product.inStock && <span className=\"out-of-stock-badge\">Out of Stock</span>}\n              </div>\n              \n              <div className=\"product-details\">\n                <h3 className=\"product-name\">{product.name}</h3>\n                \n                <div className=\"product-category\">{product.category}</div>\n                \n                <div className=\"product-rating\">\n                  {[...Array(5)].map((_, i) => (\n                    <span key={i} className={i < Math.floor(product.rating) ? 'star filled' : 'star'}>\n                      ★\n                    </span>\n                  ))}\n                  <span className=\"rating-value\">{product.rating.toFixed(1)}</span>\n                </div>\n                \n                <p className=\"product-description\">{product.description}</p>\n                \n                <div className=\"product-price-actions\">\n                  <div className=\"product-price\">${product.price.toFixed(2)}</div>\n                  \n                  <div className=\"product-actions\">\n                    <button \n                      className=\"view-details-btn\"\n                      onClick={() => alert(`View details for ${product.name}`)}\n                    >\n                      View Details\n                    </button>\n                    \n                    <button \n                      className={`add-to-cart-btn ${!product.inStock ? 'disabled' : ''}`}\n                      disabled={!product.inStock}\n                      onClick={() => product.inStock && alert(`Added ${product.name} to cart`)}\n                    >\n                      {product.inStock ? 'Add to Cart' : 'Out of Stock'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductCatalog;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}